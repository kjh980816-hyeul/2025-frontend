<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    #page-container span {
      display:inline-block; margin-left:10px;
      cursor:pointer;
    }
  </style>
  <title>ajax01.html</title>
</head>
<body>
  <div id="page-container"></div>
  <div id="container"></div>
  <script>
    const makePageContainer = (n) => {
      const $paging = document.querySelector('#page-container');
      for (let i = 1 ; i <= n; i ++){
        const span = document.createElement('span');
        $paging.append(span);
        span.innerHTML = i
        span.addEventListener('click', () => {
          getData(i);
        });
      }

    }
    makePageContainer(10);


    const getData = page => {
        fetch(`https://picsum.photos/v2/list?limit=50&page=${page}`)
        .then(res => res.json())
        .then( json => procItems(json))
        .catch( err => {
          alert('에러 발생!');
          console.log(err);
        } );
  }
  // getData(1);

  const $container = document.querySelector('#container');

    const procItems = list => {
      $container.innerText = null;
      list.forEach( item => {
        const elem = makeItem(item);
        //컨테이너에 elem을 append 해주세요.
        $container.append(elem);
      })
    }

    const makeItem = data => {
      console.log('data:', data);
      //src 속성에 download_url속성에 담긴 값을 넣고 싶어요.
      // alt 속성에 author 속성에 담긴 값을 넣고 싶어요. 
      // 기존 이미지보다 1/10 작은 이미지가 뜰 수 있도록 해주세요.
      const div = document.createElement('div');
      
      div.innerHTML = `
          <img src="https://picsum.photos/id/${data.id}/${parseInt(data.width*0.1)}/${parseInt(data.height*0.1)}" alt="${data.author}">
          
          <div>${data.author}</div>
      `;
      return div;
    }

    const obj = {
      name: '홍길동',
      age : 22,
      height: 168.4
    }
    console.log('obj:', obj);

    const jsonObj = JSON.stringify(obj);
    console.log('jsonObj:', jsonObj);
    const obj2 = JSON.parse(jsonObj);
    console.log('obj2:', obj2);
  </script>
</body>
</html>